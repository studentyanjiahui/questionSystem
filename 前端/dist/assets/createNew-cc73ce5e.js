import{ah as n,ac as i}from"./index-8c98e848.js";import{b as o}from"./function-call-a194e4e5.js";const a=n("new",{state:()=>({quesList:[],juanDesc:{title:"",description:""},id:""}),getters:{},actions:{initQues(){this.quesList=[],this.juanDesc={}},async createNewQues(s,t){this.juanDesc.title=s,this.juanDesc.description=t,i.post("/naires/insert",this.juanDesc).then(e=>(console.log(e.data),this.id=e.data.data.id,e.data.msg)).catch(e=>(o({message:"创建失败，请检察网络状态并重试",forbidClick:!1}),e))},addQues(s){const t=this.quesList.length+1;return this.quesList.length>=300?(console.log("超出最大问题数"),!1):(s===0||s===1?this.quesList.push({id:this.id,num:t,question:"",type:s,option1:"",option2:null,option3:null,option4:null,option5:null,answer:null}):this.quesList.push({id:this.id,num:t,question:"",type:s,option1:null,option2:null,option3:null,option4:null,option5:null,answer:null}),!0)},delQues(s){this.quesList.splice(s,1);for(let t=s;t<this.quesList.length;t++)this.quesList[t].num--},async submitQuesList(){i.post("naires/createNew",this.quesList).then(s=>{console.log("新增成功"),console.log(s.data)}).catch(s=>{console.log(s)})}}});export{a as u};
