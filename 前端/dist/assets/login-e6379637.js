import"./index-1c5e6985.js";import{B as b}from"./index-7a16dd82.js";import{C as k}from"./index-ddf46f37.js";import{F as w,a as C}from"./index-a0d7864c.js";import{N as v}from"./index-8eae4f05.js";import{_ as V,e as p,u as x,r as y,o as B,c as z,a as e,w as n,b as L,d as c}from"./index-8c98e848.js";import{s as r}from"./function-call-a194e4e5.js";const S={name:"login",setup(){return{username:p(""),password:p("")}},methods:{onClickLeft(){history.back()},onClickRight(){this.$router.push("/Register")},onSubmit1(){const l=/^([a-zA-Z~_-][a-z0-9A-Z@-_~]*)|([U4e00-u9fa5]+[a-z0-9A-Z@-_~]*)$/;let o=this.username,m=this.password;if(/^([0-9a-zA-Z_-]*)$/.test(m)){if(!l.test(o))return r({message:"输入的用户名不符合标准",forbidClick:!1,position:"bottom"}),!1}else return r({message:"输入的密码格式错误",forbidClick:!1,icon:"like-o",wordBreak:"break-word",position:"bottom"}),!1;this.$http.post("/address/login",{name:this.username,password:this.password}).then(a=>{let s=a.data.data.name;r({message:"尊敬的用户"+s.toString()+",欢迎登陆",forbidClick:!1,icon:"like-o",position:"bottom"}),x().setLogin(this.username),console.log(a.data),this.$router.push("homeView")}).catch(a=>{r({message:"用户名不存在或密码错误",icon:"like-o",position:"bottom"}),console.log(a.date)})}}},N={style:{margin:"16px"}};function R(l,o,m,t,a,s){const f=v,_=y("router-view"),d=C,h=k,u=b,g=w;return B(),z("div",null,[e(f,{title:"简易问卷调查系统","left-text":"退出",onClickLeft:s.onClickLeft,"right-text":"注册账户",onClickRight:s.onClickRight},null,8,["onClickLeft","onClickRight"]),e(_),e(g,{onSubmit:s.onSubmit1},{default:n(()=>[e(h,{inset:""},{default:n(()=>[e(d,{modelValue:t.username,"onUpdate:modelValue":o[0]||(o[0]=i=>t.username=i),name:"用户名",label:"用户名",placeholder:"请输入用户名",rules:[{required:!0,message:"请填写用户名"}]},null,8,["modelValue"]),e(d,{modelValue:t.password,"onUpdate:modelValue":o[1]||(o[1]=i=>t.password=i),type:"password",name:"密码",label:"账户密码",placeholder:"请输入密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"])]),_:1}),L("div",N,[e(u,{size:"normal",type:"primary","native-type":"submit"},{default:n(()=>[c(" 提交 ")]),_:1}),e(u,{size:"normal",type:"default","native-type":"reset"},{default:n(()=>[c(" 内容重置 ")]),_:1})])]),_:1},8,["onSubmit"])])}const $=V(S,[["render",R]]);export{$ as default};
