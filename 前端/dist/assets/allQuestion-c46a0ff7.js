import{ah as u,ac as l,aA as h}from"./index-8c98e848.js";const w=u("question",{state:()=>({questionList:[],oneQuestions:[],nowTitle:"",analyzes:[]}),actions:{async getAllQues(){l.get("/naires/getAll").then(a=>{this.questionList=a.data.data,console.log("questionList为"),console.log(this.questionList.length)}).catch(a=>{console.log(a)})},async getOneQues(a){l.get("/naires/getOne/"+a).then(e=>{if(e.data.data!=null){this.oneQuestions=e.data.data;for(let s of this.oneQuestions)s.type===1?s.answer=[]:s.answer=""}else this.oneQuestions=[]}).catch(e=>{h.error("请求出错"),console.log(e)})},async getAnalyzes(a){l.get("/naires/analyze/"+a).then(e=>{if(e.data.data!=null){const s=e.data.data;let i=s[0].num,o=s[0].answer,t=[],r=0;for(let n of s)r++,n.num===i?(o===n.answer||(this.analyzes.push({num:i,answer:o,writer:t}),o=n.answer,t=[]),t.push(n.writer)):(this.analyzes.push({num:i,answer:o,writer:t}),i=n.num,t=[],o=n.answer,t.push(n.writer)),r===s.length&&this.analyzes.push({num:i,answer:o,writer:t})}}).catch(e=>{console.log(e),this.analyzes=[]})}}});export{w as u};
