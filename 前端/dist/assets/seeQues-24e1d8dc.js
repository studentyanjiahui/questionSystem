import"./index-1c5e6985.js";import{B as W}from"./index-7a16dd82.js";import{F as Z,a as ee}from"./index-a0d7864c.js";import{N as ae}from"./index-8eae4f05.js";import{u as oe}from"./allQuestion-c46a0ff7.js";import{f as B,g as P,h as T,x as z,ai as A,a as n,n as $,k as q,i as G,j as E,aj as le,t as O,e as I,s as S,I as ne,V as D,l as Q,ak as j,m as K,v as L,R as te,a6 as se,r as ue,o as c,c as m,aa as N,w as f,$ as ie,a0 as re,b as U,a1 as p,d as g,ab as V,ac as de}from"./index-8c98e848.js";import{b as R,a as ce,s as me}from"./function-call-a194e4e5.js";const[Y,pe]=B("radio-group"),_e={shape:String,disabled:Boolean,iconSize:$,direction:String,modelValue:q,checkedColor:String},H=Symbol(Y);var he=P({name:Y,props:_e,emits:["change","update:modelValue"],setup(e,{emit:r,slots:u}){const{linkChildren:s}=T(H),d=t=>r("update:modelValue",t);return z(()=>e.modelValue,t=>r("change",t)),s({props:e,updateValue:d}),A(()=>e.modelValue),()=>{var t;return n("div",{class:pe([e.direction]),role:"radiogroup"},[(t=u.default)==null?void 0:t.call(u)])}}});const fe=G(he),F={name:q,disabled:Boolean,iconSize:$,modelValue:q,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var X=P({props:E({},F,{bem:le(Function),role:String,shape:String,parent:Object,checked:Boolean,bindGroup:O}),emits:["click","toggle"],setup(e,{emit:r,slots:u}){const s=I(),d=l=>{if(e.parent&&e.bindGroup)return e.parent.props[l]},t=S(()=>{if(e.parent&&e.bindGroup){const l=d("disabled")||e.disabled;if(e.role==="checkbox"){const C=d("modelValue").length,v=d("max"),w=v&&C>=+v;return l||w&&!e.checked}return l}return e.disabled}),_=S(()=>d("direction")),o=S(()=>{const l=e.checkedColor||d("checkedColor");if(l&&e.checked&&!t.value)return{borderColor:l,backgroundColor:l}}),i=S(()=>e.shape||d("shape")||"round"),k=l=>{const{target:C}=l,v=s.value,w=v===C||(v==null?void 0:v.contains(C));!t.value&&(w||!e.labelDisabled)&&r("toggle"),r("click",l)},b=()=>{var l,C;const{bem:v,checked:w}=e,x=e.iconSize||d("iconSize");return n("div",{ref:s,class:v("icon",[i.value,{disabled:t.value,checked:w}]),style:i.value!=="dot"?{fontSize:D(x)}:{width:D(x),height:D(x),borderColor:(l=o.value)==null?void 0:l.borderColor}},[u.icon?u.icon({checked:w,disabled:t.value}):i.value!=="dot"?n(ne,{name:"success",style:o.value},null):n("div",{class:v("icon--dot__icon"),style:{backgroundColor:(C=o.value)==null?void 0:C.backgroundColor}},null)])},h=()=>{if(u.default)return n("span",{class:e.bem("label",[e.labelPosition,{disabled:t.value}])},[u.default()])};return()=>{const l=e.labelPosition==="left"?[h(),b()]:[b(),h()];return n("div",{role:e.role,class:e.bem([{disabled:t.value,"label-disabled":e.labelDisabled},_.value]),tabindex:t.value?void 0:0,"aria-checked":e.checked,onClick:k},[l])}}});const be=E({},F,{shape:String}),[ke,ve]=B("radio");var ge=P({name:ke,props:be,emits:["update:modelValue"],setup(e,{emit:r,slots:u}){const{parent:s}=Q(H),d=()=>(s?s.props.modelValue:e.modelValue)===e.name,t=()=>{s?s.updateValue(e.name):r("update:modelValue",e.name)};return()=>n(X,K({bem:ve,role:"radio",parent:s,checked:d(),onToggle:t},e),j(u,["default","icon"]))}});const Ve=G(ge),[J,Ce]=B("checkbox-group"),we={max:$,shape:te("round"),disabled:Boolean,iconSize:$,direction:String,modelValue:se(),checkedColor:String},M=Symbol(J);var xe=P({name:J,props:we,emits:["change","update:modelValue"],setup(e,{emit:r,slots:u}){const{children:s,linkChildren:d}=T(M),t=o=>r("update:modelValue",o),_=(o={})=>{typeof o=="boolean"&&(o={checked:o});const{checked:i,skipDisabled:k}=o,h=s.filter(l=>l.props.bindGroup?l.props.disabled&&k?l.checked.value:i??!l.checked.value:!1).map(l=>l.name);t(h)};return z(()=>e.modelValue,o=>r("change",o)),L({toggleAll:_}),A(()=>e.modelValue),d({props:e,updateValue:t}),()=>{var o;return n("div",{class:Ce([e.direction])},[(o=u.default)==null?void 0:o.call(u)])}}});const[ye,Se]=B("checkbox"),Pe=E({},F,{shape:String,bindGroup:O});var $e=P({name:ye,props:Pe,emits:["change","update:modelValue"],setup(e,{emit:r,slots:u}){const{parent:s}=Q(M),d=o=>{const{name:i}=e,{max:k,modelValue:b}=s.props,h=b.slice();if(o)!(k&&h.length>=+k)&&!h.includes(i)&&(h.push(i),e.bindGroup&&s.updateValue(h));else{const l=h.indexOf(i);l!==-1&&(h.splice(l,1),e.bindGroup&&s.updateValue(h))}},t=S(()=>s&&e.bindGroup?s.props.modelValue.indexOf(e.name)!==-1:!!e.modelValue),_=(o=!t.value)=>{s&&e.bindGroup?d(o):r("update:modelValue",o)};return z(()=>e.modelValue,o=>r("change",o)),L({toggle:_,props:e,checked:t}),A(()=>e.modelValue),()=>n(X,K({bem:Se,role:"checkbox",parent:s,checked:t.value,onToggle:_},e),j(u,["default","icon"]))}});const Be=G($e),Ge=G(xe);const De={key:0},Ue={key:0},qe={key:1},ze={key:2},Ae={key:3},Ee={key:4},Fe={key:1},Ne={key:0},Re={key:1},Te={key:2},Oe={key:3},Ie={key:4},Qe={key:2},Me={__name:"seeQues",setup(e){const r=oe(),u=I("");function s(){const _=[];for(let o of r.oneQuestions){if(o.answer==="")return!1;if(!o.answer.length)return!1;let i=o.answer;i instanceof Array?i=i.reduce((k,b)=>`${k},${b}`):i=String(i),_.push({id:o.id,num:o.num,answer:i,writer:u.value})}return _}function d(){window.history.back()}function t(){const _=s();if(u.value==="")return R({message:"请填写填写人的编号或昵称"}),!1;if(_===!1)return R({message:"请选择选项，否则不能提交"}),!1;de.post("/naires/answerAdd",_).then(o=>{console.log(o.data.data),ce({message:"已完成填写，谢谢您的帮助",forbidClick:!0})}).catch(o=>{console.log(o),me({message:"请检查网络，请求发送失败",forbidClick:!0})})}return(_,o)=>{const i=ae,k=ee,b=Ve,h=fe,l=Be,C=Ge,v=W,w=Z,x=ue("router-view");return c(),m("div",null,[n(i,{title:N(r).nowTitle,"left-text":"返回","left-arrow":"",onClickLeft:d},null,8,["title"]),n(w,null,{default:f(()=>[n(k,{label:"填写者编号",placeholder:"请填写自身编号（昵称也可）",modelValue:u.value,"onUpdate:modelValue":o[0]||(o[0]=a=>u.value=a)},null,8,["modelValue"]),(c(!0),m(ie,null,re(N(r).oneQuestions,a=>(c(),m("div",{key:a.num},[a.type===0?(c(),m("p",De,[U("p",null,"问题"+p(a.num)+"(单选):"+p(a.question),1),n(h,{rule:{required:!0,message:"请选择"},modelValue:a.answer,"onUpdate:modelValue":y=>a.answer=y},{default:f(()=>[a.option1!==null?(c(),m("p",Ue,[n(b,{name:_.A},{default:f(()=>[g(p(a.option1),1)]),_:2},1032,["name"])])):V("",!0),a.option2!==null?(c(),m("p",qe,[n(b,{name:"B"},{default:f(()=>[g(p(a.option2),1)]),_:2},1024)])):V("",!0),a.option3!==null?(c(),m("p",ze,[n(b,{name:"C"},{default:f(()=>[g(p(a.option3),1)]),_:2},1024)])):V("",!0),a.option4!==null?(c(),m("p",Ae,[n(b,{name:"D"},{default:f(()=>[g(p(a.option4),1)]),_:2},1024)])):V("",!0),a.option5!==null?(c(),m("p",Ee,[n(b,{name:"E"},{default:f(()=>[g(p(a.option5),1)]),_:2},1024)])):V("",!0)]),_:2},1032,["modelValue","onUpdate:modelValue"])])):a.type===1?(c(),m("p",Fe,[U("p",null,"问题"+p(a.num)+"(多选):"+p(a.question),1),n(C,{rule:{required:!0,message:"至少选一个"},modelValue:a.answer,"onUpdate:modelValue":y=>a.answer=y},{default:f(()=>[a.option1!==null?(c(),m("p",Ne,[n(l,{name:"A"},{default:f(()=>[g(p(a.option1),1)]),_:2},1024)])):V("",!0),a.option2!==null?(c(),m("p",Re,[n(l,{name:"B"},{default:f(()=>[g(p(a.option2),1)]),_:2},1024)])):V("",!0),a.option3!==null?(c(),m("p",Te,[n(l,{name:"C"},{default:f(()=>[g(p(a.option3),1)]),_:2},1024)])):V("",!0),a.option4!==null?(c(),m("p",Oe,[n(l,{name:"D"},{default:f(()=>[g(p(a.option4),1)]),_:2},1024)])):V("",!0),a.option5!==null?(c(),m("p",Ie,[n(l,{name:"E"},{default:f(()=>[g(p(a.option5),1)]),_:2},1024)])):V("",!0)]),_:2},1032,["modelValue","onUpdate:modelValue"])])):a.type===2?(c(),m("p",Qe,[U("p",null,"问题"+p(a.num)+"(简答):"+p(a.question),1),n(k,{label:"答：",modelValue:a.answer,"onUpdate:modelValue":y=>a.answer=y,type:"textarea",placeholder:"请答题"},null,8,["modelValue","onUpdate:modelValue"])])):V("",!0)]))),128)),n(v,{onClick:t,type:"primary"},{default:f(()=>[g("提交")]),_:1})]),_:1}),n(x)])}}};export{Me as default};
